"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[744],{6760:(e,s,r)=>{r.d(s,{A:()=>i});r(5043);var l=r(579);const i=()=>(0,l.jsx)("h2",{className:"nothing flex-center",children:"Nothing to show"})},5560:(e,s,r)=>{r.d(s,{A:()=>o});r(5043);var l=r(5369),i=r(9776),n=r(5475),a=r(579);const o=()=>(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("footer",{children:[(0,a.jsxs)("div",{className:"footer",children:[(0,a.jsxs)("div",{className:"footer-links",children:[(0,a.jsx)("h3",{children:"Links"}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:(0,a.jsx)(n.k2,{to:"/",children:"Home"})}),(0,a.jsx)("li",{children:(0,a.jsx)(n.k2,{to:"/drivers",children:"Drivers"})}),(0,a.jsx)("li",{children:(0,a.jsx)(n.k2,{to:"/bookings",children:"Bookings"})}),(0,a.jsx)("li",{children:(0,a.jsx)(n.k2,{to:"/notifications",children:"Notifications"})}),(0,a.jsx)("li",{children:(0,a.jsx)(i.Vq,{to:"/#contact",children:"Contact Us"})}),(0,a.jsx)("li",{children:(0,a.jsx)(n.k2,{to:"/profile",children:"Profile"})})]})]}),(0,a.jsxs)("div",{className:"social",children:[(0,a.jsx)("h3",{children:"Social links"}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{className:"facebook",children:(0,a.jsx)("a",{href:"https://www.facebook.com/",target:"_blank",rel:"noreferrer",children:(0,a.jsx)(l.ok6,{})})}),(0,a.jsx)("li",{className:"youtube",children:(0,a.jsx)("a",{href:"https://www.youtube.com/",target:"_blank",rel:"noreferrer",children:(0,a.jsx)(l.Vk6,{})})}),(0,a.jsx)("li",{className:"instagram",children:(0,a.jsx)("a",{href:"https://www.instagram.com/al.enn.n/",target:"_blank",rel:"noreferrer",children:(0,a.jsx)(l.ao$,{})})})]})]})]}),(0,a.jsxs)("div",{className:"footer-bottom",children:["Made by"," ",(0,a.jsx)("a",{href:"https://www.linkedin.com/in/dunna-alen",target:"_blank",rel:"noreferrer",children:"Alen James"})," ","\xa9 ",(new Date).getFullYear()]})]})})},8549:(e,s,r)=>{r.d(s,{A:()=>j});var l=r(5043),i=r(3216),n=r(5475),a=r(9776),o=r(9456),t=r(5089),c=r(1009),d=r(5922),h=r(7070);const m=r.p+"static/media/logo.a7ffdc01072de82f160d.jpg";var x=r(579);const j=()=>{const[e,s]=(0,l.useState)(!1),r=(0,o.wA)(),j=(0,i.Zp)(),[v,u]=(0,l.useState)(localStorage.getItem("token")||""),[g,k]=(0,l.useState)(localStorage.getItem("token")?(0,h.A)(localStorage.getItem("token")):"");return(0,x.jsxs)("header",{children:[(0,x.jsxs)("nav",{className:e?"nav-active":"",children:[(0,x.jsx)("div",{className:"navbar-logo",style:{cursor:"pointer"},children:(0,x.jsx)("img",{src:m,alt:"Logo",className:"logo-image"})}),(0,x.jsxs)("ul",{className:"nav-links",children:[(0,x.jsx)("li",{children:(0,x.jsx)(n.k2,{to:"/",children:"Home"})}),(0,x.jsx)("li",{children:(0,x.jsx)(n.k2,{to:"/drivers",children:"Drivers"})}),v&&g.isAdmin&&(0,x.jsx)("li",{children:(0,x.jsx)(n.k2,{to:"/dashboard/users",children:"Dashboard"})}),v&&!g.isAdmin&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("li",{children:(0,x.jsx)(n.k2,{to:"/bookings",children:"Bookings"})}),(0,x.jsx)("li",{children:(0,x.jsx)(n.k2,{to:"/notifications",children:"Notifications"})}),(0,x.jsx)("li",{children:(0,x.jsx)(n.k2,{to:"/applyfordriver",children:"Apply for driver"})}),(0,x.jsx)("li",{children:(0,x.jsx)(a.Vq,{to:"/#contact",children:"Contact Us"})}),(0,x.jsx)("li",{children:(0,x.jsx)(n.k2,{to:"/profile",children:"Profile"})})]}),v?(0,x.jsx)("li",{children:(0,x.jsx)("span",{className:"btn",onClick:()=>{r((0,t.iA)({})),localStorage.removeItem("token"),j("/login")},children:"Logout"})}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("li",{children:(0,x.jsx)(n.k2,{className:"btn",to:"/login",children:"Login"})}),(0,x.jsx)("li",{children:(0,x.jsx)(n.k2,{className:"btn",to:"/register",children:"Register"})})]})]})]}),(0,x.jsxs)("div",{className:"menu-icons",children:[!e&&(0,x.jsx)(c.ND1,{className:"menu-open",onClick:()=>{s(!0)}}),e&&(0,x.jsx)(d.clO,{className:"menu-close",onClick:()=>{s(!1)}})]})]})}},2459:(e,s,r)=>{r.r(s),r.d(s,{default:()=>g});var l=r(5043),i=r(6213),n=r(3768),a=r(4960),o=r(579);const t=e=>{let{setModalOpen:s,ele:r}=e;const[t,c]=(0,l.useState)({date:"",time:""}),d=e=>{const{name:s,value:r}=e.target;return c({...t,[s]:r})};return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:"modal flex-center",children:(0,o.jsxs)("div",{className:"modal__content",children:[(0,o.jsx)("h2",{className:"page-heading",children:" Booking"}),(0,o.jsx)(a.WQq,{onClick:()=>{s(!1)},className:"close-btn"}),(0,o.jsx)("div",{className:"register-container flex-center book",children:(0,o.jsxs)("form",{className:"register-form",children:[(0,o.jsx)("input",{type:"date",name:"date",className:"form-input",value:t.date,onChange:d}),(0,o.jsx)("input",{type:"time",name:"time",className:"form-input",value:t.time,onChange:d}),(0,o.jsx)("button",{type:"submit",className:"btn form-btn",onClick:async e=>{e.preventDefault();try{var l,a,o;await n.Ay.promise(i.A.post("/booking/bookbooking",{driverId:null===r||void 0===r||null===(l=r.userId)||void 0===l?void 0:l._id,date:t.date,time:t.time,drivername:`${null===r||void 0===r||null===(a=r.userId)||void 0===a?void 0:a.firstname} ${null===r||void 0===r||null===(o=r.userId)||void 0===o?void 0:o.lastname}`},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),{success:"Booking booked successfully",error:"Unable to book booking",loading:"Booking booking..."}),s(!1)}catch(c){return c}},children:"book"})]})})]})})})},c=e=>{var s,r,i,a;let{ele:c}=e;const[d,h]=(0,l.useState)(!1),[m,x]=(0,l.useState)(localStorage.getItem("token")||"");return(0,o.jsxs)("div",{className:"card",children:[(0,o.jsx)("div",{className:"card-img flex-center",children:(0,o.jsx)("img",{src:(null===c||void 0===c||null===(s=c.userId)||void 0===s?void 0:s.pic)||"https://icon-library.com/images/anonymous-avatar-icon/anonymous-avatar-icon-25.jpg",alt:"profile"})}),(0,o.jsx)("h3",{className:"card-name",children:(null===c||void 0===c||null===(r=c.userId)||void 0===r?void 0:r.firstname)+" "+(null===c||void 0===c||null===(i=c.userId)||void 0===i?void 0:i.lastname)}),(0,o.jsxs)("p",{className:"LicenseNumber",children:[(0,o.jsx)("strong",{children:"License Number: "}),null===c||void 0===c?void 0:c.LicenseNumber]}),(0,o.jsxs)("p",{className:"VehicleNUmber",children:[(0,o.jsx)("strong",{children:"Vehicle NUmber: "}),null===c||void 0===c?void 0:c.VehicleNUmber,"yrs"]}),(0,o.jsxs)("p",{className:"Charge",children:[(0,o.jsx)("strong",{children:"Charge per km: "})," ",null===c||void 0===c?void 0:c.Charge]}),(0,o.jsxs)("p",{className:"place",children:[(0,o.jsx)("strong",{children:"place: "}),null===c||void 0===c?void 0:c.place]}),(0,o.jsxs)("p",{className:"phone",children:[(0,o.jsx)("strong",{children:"Phone: "}),null===c||void 0===c||null===(a=c.userId)||void 0===a?void 0:a.mobile]}),(0,o.jsx)("button",{className:"btn booking-btn",onClick:()=>{if(""===m)return n.oR.error("You must log in first");h(!0)},children:"Book"}),d&&(0,o.jsx)(t,{setModalOpen:h,ele:c})]})};var d=r(5560),h=r(8549),m=r(5789),x=r(745),j=r(9456),v=r(5089),u=r(6760);const g=()=>{const[e,s]=(0,l.useState)([]),[r,i]=(0,l.useState)({from:"",to:""}),n=(0,j.wA)(),{loading:a}=(0,j.d4)((e=>e.root));return(0,l.useEffect)((()=>{(async()=>{n((0,v.r1)(!0));const e=await(0,m.A)("/driver/getalldrivers");s(e),n((0,v.r1)(!1))})()}),[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(h.A,{}),a&&(0,o.jsx)(x.A,{}),!a&&(0,o.jsxs)("section",{className:"container drivers",children:[(0,o.jsx)("h2",{className:"page-heading",children:"Find Drivers"}),(0,o.jsxs)("div",{className:"drivers-container",children:[(0,o.jsxs)("div",{className:"search-section",children:[(0,o.jsx)("h3",{children:"Search Drivers"}),(0,o.jsxs)("div",{className:"search-bar",children:[(0,o.jsxs)("div",{className:"search-input",children:[(0,o.jsx)("label",{htmlFor:"from",children:"From:"}),(0,o.jsx)("input",{type:"text",id:"from",placeholder:"Enter departure place",value:r.from,onChange:e=>i((s=>({...s,from:e.target.value})))})]}),(0,o.jsxs)("div",{className:"search-input",children:[(0,o.jsx)("label",{htmlFor:"to",children:"To:"}),(0,o.jsx)("input",{type:"text",id:"to",placeholder:"Enter destination place",value:r.to,onChange:e=>i((s=>({...s,to:e.target.value})))})]}),(0,o.jsx)("button",{className:"search-btn",onClick:async()=>{const{from:e,to:l}=r;if(null!==e&&void 0!==e&&e.trim()&&null!==l&&void 0!==l&&l.trim()){n((0,v.r1)(!0));try{const r=await(0,m.A)(`/driver/getdriversbyplace?from=${encodeURIComponent(e)}&to=${encodeURIComponent(l)}`);s(r)}catch(i){console.error("Error fetching drivers:",i),alert("Failed to fetch drivers. Please try again.")}n((0,v.r1)(!1))}else alert("Please provide both 'From' and 'To' locations.")},children:"Search"})]})]}),(0,o.jsxs)("div",{className:"drivers-list",children:[(0,o.jsx)("h3",{children:"Available Drivers"}),e.length>0?(0,o.jsx)("div",{className:"drivers-card-container",children:e.map((e=>(0,o.jsx)(c,{ele:e},e._id)))}):(0,o.jsx)(u.A,{})]})]})]}),(0,o.jsx)(d.A,{})]})}}}]);
//# sourceMappingURL=744.06c5acff.chunk.js.map